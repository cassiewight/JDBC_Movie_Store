<!DOCTYPE html>

<html lang="en"
		xmlns="http://www.w3.org/1999/xhtml"
		xmlns:b="http://bootsfaces.net/ui"
      	xmlns:h="http://xmlns.jcp.org/jsf/html"
      	xmlns:f="http://xmlns.jcp.org/jsf/core"
      	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
      	
<h:head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<h:outputStylesheet library="css" name="styles.css"  />
	<title></title>
</h:head>

<h:body>
       <b:container>
       
            <div class="heading">
            <b:row>
                <b:column span="12">
       				<h3>The Movie Store</h3>
       				
       				<b:form>
            		<b:commandLink action="user_management" value="Customer User Management"/>
            		<br/>
            		<b:commandLink action="index" value="Home" />
       			  </b:form>
                </b:column>
               
            </b:row>
          </div> 
            
            <div class="center-box" >
            
            
	             <b:row>
		             <b:column span="6" offset="3">
		             	<b:panel title="Registration" collapsible="false">
				           
				           <b:form>
				           
					           	
						<!-- firstName required max 25 alpha char String  -->    		
				           		<b:inputText value="#{customer.firstName}"
					           			label="First Name"
					           			id="firstName"
					           			required="true"
					           			validatorMessage="First Name cannot be more than 25 characters">
					           			<f:validateLength maximum="25" />
				           		</b:inputText>
				           		<h:message for="firstName" />
				           		
						<!-- lastName required max 25 alpha char String -->
						         <b:inputText value="#{customer.lastName}" 
							           	label="Last Name"
							           	id="lastName"
							           	required="true"
							           	requiredMessage="Last Name is required"
							           	validatorMessage="Last Name cannot be more than 25 characters">
							           	<f:validateLength maximum="25" />
						          </b:inputText>
						          <h:message for="lastName" />
						       
						<!-- phone required pattern xxx-xxx-xxxx String -->
					           	<b:inputText value="#{customer.phone}"
					           			label="Phone Number" 
					           			id="phone"
					           			required="true"
					           			validatorMessage="Phone Number must follow pattern xxx-xxx-xxxx">
					           			<f:validateRegex pattern="\d{3}-\d{3}-\d{4}" />
					           	</b:inputText>
					           	<h:message for="phone" />
					           	
						<!-- address max 100 char String -->
								<b:inputText value="#{customer.address}"
										label="Address" 
						           		id="address"
						           		validatorMessage="Address cannot be more than 100 characters">
						           		<f:validateLength maximum="100"/>
						        </b:inputText>
						        <h:message for="address" />
						        
						<!-- Email max 100 char String -->
								<b:inputText value="#{customer.email}"
										label="Email" 
						           		id="email"
						           		required="true"
						           		validatorMessage="Must be a valid email Address">
						           		<f:validateRegex pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$" />
						        </b:inputText>
						        <h:message for="email" />
						            
						            
						<!-- username required String starts with IPD17 -->
						        <b:inputText value="#{customer.username}"
						        		label="Username" 
						           		id="username"
						           		required="true"
						           		validator="#{customer.validateUsername}" 
						           		validatorMessage="Username must start with IPD17"/>
								<h:message for="username" />
								
						<!-- password required max 20 character String -->
								<b:inputText value="#{customer.password}" 
										label="Password"
							           	id="password"
							           	required="true"
							           	validatorMessage="Password cannot be more than 20 characters">
							           	<f:validateLength maximum="20"/>
							    </b:inputText>
						        <h:message for="password" />
						        
						        <h:inputHidden value="#{customer.id}" />
						       
				           		<b:row>
				           			
				           			  
				           			<b:column span="6">
				           			
				           				<h5>How would you like to stay in the know about our products?</h5>
						           		<h:selectManyCheckbox value="#{customer.emailUpdate}"
						           					required="true">
										    <f:selectItem itemValue="Monthly Update"   itemLabel="Monthy Update" />
										    <f:selectItem itemValue="Weekly Update" itemLabel="Weekly Update" />
										    <f:selectItem itemValue="No Email"  itemLabel="No Email" />
										</h:selectManyCheckbox>
										
									</b:column>
									
									<b:column span="6">
										
										<h5>How would you like your profile to be saved?</h5>
										<b:radiobutton value="#{customer.profileVisibility}" 
													required="true">
											<f:selectItem itemValue="private" itemLabel="Private" />
										    <f:selectItem itemValue="public" itemLabel="Public" />
										</b:radiobutton>
						           		
						           	</b:column>
						           	
		           	
						         </b:row>
						         
						         <h:commandButton value="Save" action="#{customerController.updateCustomer(customer)}"/>
		
						<!-- Submit button brings you to profile-preview.xhtml  -->
							<h:outputLink value="user_management.xhtml">Back to List</h:outputLink>
					</b:form>
					
				</b:panel>
		
			</b:column>
			
		</b:row>
		
	</div>
	
	</b:container>

</h:body>

</html>
